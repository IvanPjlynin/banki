!function(e){let t=e(".acym_deactivate_modal"),a=e("body"),c=e("#acym_feedback_otherReason"),n="";function o(){let e=document.querySelector("#acym_feedback_otherReason").value.trim(),t=document.querySelector(".acym_deactivate_button_deactivate");"ACYM_OTHER"===n&&0===e.length?t.innerHTML=ACYM_JS_TXT.ACYM_SKIP_AND_DEACTIVATE:t.innerHTML=ACYM_JS_TXT.ACYM_SUBMIT_AND_DEACTIVATE}function i(){t.removeClass("active"),a.removeClass("has-modal"),t.find('input[type="radio"]').prop("checked",!1),t.find("#acym_feedback_otherReason").val(""),document.querySelector(".acym_deactivate_button_deactivate").innerHTML=ACYM_JS_TXT.ACYM_SKIP_AND_DEACTIVATE,c.hide()}function _(e){window.location.href=e}t.appendTo(a),function(){let d=document.querySelector("#deactivate-acymailing").href;e("#deactivate-acymailing").on("click",function(e){e.preventDefault(),t.addClass("active"),a.addClass("has-modal")}),e(".acym_deactivate_button_deactivate").on("click",e=>{let t=document.querySelector("#acym_feedback_otherReason").value.trim();n.length>0&&("ACYM_OTHER"!==n||t.length>0)?(ajaxUrl=ACYM_AJAX_URL+"&ctrl=deactivate&task=saveFeedback",jQuery.post(ajaxUrl,{reason:n,otherReason:"ACYM_OTHER"===n?t:""},e=>{_(d)}).fail(()=>{_(d)})):_(d)}),t.on("click",function(e){e.target===this&&i()}),e(".dashicons-no-alt, .acym_deactivate_modal_button_close").on("click",function(e){e.preventDefault(),i()}),e("input[type=radio]").change(function(e){e.target.checked&&(n=e.target.value.trim(),o())}),c.bind("input propertychange",function(){"ACYM_OTHER"===n&&o()}),e("#acym_deactivate_modal_list_otherReason").change(()=>{c.show()})}()}(jQuery);